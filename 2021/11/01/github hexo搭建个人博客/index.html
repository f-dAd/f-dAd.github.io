<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>Github 加 hexo 搭建自己的博客</title><meta name="description" content="something for nothing"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/vs2015.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="安装
git：git 可以在我们的电脑上创建一个本地仓库，然后把我们的网页部署到 github 上的 github Pages 上。
node.js:安装 Hexo 的前提。
Hexo：可以把我们本地的 Markdown 文件，后缀.md 的文件，处理，渲染，然后变成静态网页，也就是我们的博客

npm config set registry https://registry.npm.taobao.org 设置国内的淘宝镜像，其他镜像也可以`
npm config get registry  检查换成功没

安装Hexo
npm install hexo-cli -g

安装hexo的一个相当于命令的东西
npm install hexo-deployer-git --savecode snippet

搭.."><script src="//unpkg.com/valine/dist/Valine.min.js"></script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">f-dAd's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Github 加 hexo 搭建自己的博客</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2"><span class="toc-text">搭建博客</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#github-%E9%85%8D%E7%BD%AE"><span class="toc-text">github 配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-ssh-key"><span class="toc-text">配置 ssh key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93"><span class="toc-text">创建仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A8%E9%80%81%E7%BD%91%E7%AB%99"><span class="toc-text">推送网站</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E6%A0%B7%E5%BC%8F"><span class="toc-text">博客样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E5%8D%9A%E5%AE%A2%E6%BA%90%E6%96%87%E4%BB%B6"><span class="toc-text">备份博客源文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE"><span class="toc-text">代码高亮</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-text">实现</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4%E4%B8%80"><span class="toc-text">步骤一</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4%E4%BA%8C"><span class="toc-text">步骤二</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4%E4%B8%89"><span class="toc-text">步骤三</span></a></li></ol></li></ol></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/hexo"><i class="tag post-item-tag">hexo</i></a><a href="/tags/github"><i class="tag post-item-tag">github</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">Github 加 hexo 搭建自己的博客</h1><time class="has-text-grey" datetime="2021-11-01T11:49:32.000Z">2021-11-01</time><article class="mt-2 post-content"><h2 id="安装">安装</h2>
<p>git：git 可以在我们的电脑上创建一个本地仓库，然后把我们的网页部署到 github 上的 github Pages 上。</p>
<p>node.js:安装 Hexo 的前提。</p>
<p>Hexo：可以把我们本地的 Markdown 文件，<a target="_blank" rel="noopener" href="http://xn--fqr621h.md">后缀.md</a> 的文件，处理，渲染，然后变成静态网页，也就是我们的博客</p>
<p class="code-caption" data-lang="bash" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code class="language-bash">npm config set registry https://registry.npm.taobao.org 设置国内的淘宝镜像，其他镜像也可以`
npm config get registry  检查换成功没

安装Hexo
npm install hexo-cli -g

安装hexo的一个相当于命令的东西
npm install hexo-deployer-git --savecode snippet
</code></pre>
<h2 id="搭建博客">搭建博客</h2>
<p class="code-caption" data-lang="bash" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code class="language-bash">创建文件夹，并进去
mkdir -p ~/codes/myblog &amp;&amp; cd ~/codes/myblog
hexo init 初始化
启动 访问localhost:4000 博客雏形就出来了
hexo s         默认端口4000

Hexo 命令
npm update hexo -g #升级
命令简写
hexo n &quot;我的博客&quot; == hexo new &quot;我的博客&quot; #新建文章
hexo g == hexo generate #生成
hexo s == hexo server #启动服务预览
hexo d == hexo deploy #部署
hexo server #Hexo会监视文件变动并自动更新，无须重启服务器
hexo server -s #静态模式
hexo server -p 5000 #更改端口
hexo server -i 192.168.1.1 #自定义 IP
hexo clean #清除缓存，若是网页正常情况下可以忽略这条命令
</code></pre>
<h2 id="github-配置">github 配置</h2>
<h3 id="配置-ssh-key">配置 ssh key</h3>
<p class="code-caption" data-lang="bash" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code class="language-bash">ssh-keygen -t rsa -C &quot;邮箱@example.com&quot;
ssh-keygen -t rsa -C &quot;邮箱@example.com&quot; -f ~/.ssh/前缀id_rsa  防止和默认名重复

ssh-add ~/.ssh/前缀_id_rsa       添加到信任列表
pbcopy &lt; ~/.ssh/前缀_id_rsa.pub  复制公钥，粘贴到git网站的公钥中去
open ~/.ssh/ 配置新账号，多git账号时使用

添加下面的内容
#个人2
Host blog
Hostname gihub.com
IdentityFile ~/.ssh/github_id_rsa
User blog

ssh -T git@blog 测试连接
</code></pre>
<h3 id="创建仓库">创建仓库</h3>
<blockquote>
<p>注意：填写 Repository name，格式为 <a target="_blank" rel="noopener" href="http://xxx.github.io">xxx.github.io</a>，xxx 就是你的用户名，xxx 必须和你的用户名匹配，一个账户只能在 Github 上创建一个 blog 仓库。</p>
</blockquote>
<p>![image-20211101184859389](/Users/bytedance/Library/Application Support/typora-user-images/image-20211101184859389.png)</p>
<h3 id="推送网站"><strong>推送网站</strong></h3>
<p>在 blog 根目录里的_config.yml 文件称为<strong>站点</strong>配置文件</p>
<p>根目录里的 themes 文件夹，里面也有个_config.yml 文件，这个称为<strong>主题</strong>配置文件</p>
<p>将 Hexo 与 GitHub 关联起来，打开站点的配置文件_config.yml，翻到最后修改为：</p>
<p class="code-caption" data-lang="bash" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code class="language-bash">deploy:
	type: git
	repo: git@github.com: ***/chenQD-blog.git
	branch: master
</code></pre>
<p>记住这有个坑，</p>
<p>这里不要使用 https 链接，要不 hexo deploy 时重复输入用户名密码的问题</p>
<p class="code-caption" data-lang="bash" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code class="language-bash">hexo clean
hexo g
hexo d
或者
hexo generate -deploy  生成+部署
</code></pre>
<p>如果报错：说明最开始安装的 deploy 没成功，会也有提示（会让你安装）： ERROR Deployer not found: git</p>
<p>只需要安装好即可</p>
<p class="code-caption" data-lang="bash" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code class="language-bash">npm install hexo-deployer-git --save
</code></pre>
<p>当配置完_config.yml 文件时，执行 hexo g -d 时出现错误如下：上面的配置文件格式缩进不正确，报错</p>
<p class="code-caption" data-lang="bash" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code class="language-bash">FATAL YAMLException: bad indentation of a mapping entry (110:23)
 107 |
 108 | deploy:
 109 |   type: git
 110 |   repo: git@github.com: f-dAd/f-dAd.github.io.git
-----------------------------^
</code></pre>
<h2 id="博客样式">博客样式</h2>
<p>可以去 hexo 官网去挑选样式，下面几个是我很喜欢的样式</p>
<p><a target="_blank" rel="noopener" href="https://github.com/Haojen/hexo-theme-Claudia">Claudia</a> ，<a target="_blank" rel="noopener" href="https://github.com/nameoverflow/hexo-theme-icalm">icalm</a>，<a target="_blank" rel="noopener" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>，<a target="_blank" rel="noopener" href="https://github.com/fi3ework/hexo-theme-archer">Archer</a></p>
<p>找到对应博客样式的 github 按教程安装</p>
<p>简单方式：直接 git clone 一份别人配置好的 themes 文件夹直接替换自己的文件夹并，在_config.yml 文件里把主题换成 themes 文件夹里对应的主题问件夹名</p>
<p>hexo generate -deploy 部署</p>
<h2 id="备份博客源文件">备份博客源文件</h2>
<p>有时候我们想换一台电脑继续写博客，这时候就可以将博客目录下的所有源文件都上传到 github 上面。</p>
<p>首先在 github 博客仓库下新建一个分支<code>hexo</code>，然后<code>git clone</code>到本地一个新建的文件夹，把<code>.git</code>文件夹拿出来，放在博客根目录下。cmd + shift + . 显示隐藏文件夹</p>
<p class="code-caption" data-lang="bash" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code class="language-bash">git branch -b hexo   切换到`hexo`分支
git add .
git commit -m &quot;xxx&quot;
git push origin hexo  提交就行了
</code></pre>
<h2 id="代码高亮">代码高亮</h2>
<p>Hexo 本身就自带高亮功能，只不过不完美。话虽如此，这个自带的高亮功能在我所用的<a target="_blank" rel="noopener" href="https://github.com/chpwang/hexo-theme-pln">主题</a>里也比市场上的其他插件（例如 <a target="_blank" rel="noopener" href="https://github.com/ele828/hexo-prism-plugin">Hexo-Prism-Plugin</a> ，<a target="_blank" rel="noopener" href="https://github.com/Jamling/hexo-filter-highlight">hexo-filter-highlight</a> 和 <a target="_blank" rel="noopener" href="https://github.com/google/code-prettify">Prettify</a> 这三个坑货）要好用得多。这里说的好用，主要体现在最终渲染出来的排版效果上的美观、设置上的便捷，且不会引入过多 Markdown 和 Latex 之间语法的冲突。</p>
<p>经过一番调研，最终我放弃安装 Plugin（插件）版本的 Highlight.js（ <a target="_blank" rel="noopener" href="https://github.com/Jamling/hexo-filter-highlight">hexo-filter-highlight</a> 就是一个基于 Highlight.js 开发的 Plugin 。这些 Plugin 虽然安装设置方便，其模块化属性也方便管理，但如果效果不好，不如不用），直接选择使用原版的 <a target="_blank" rel="noopener" href="https://highlightjs.org/">Highlight.js</a> 。你可以在<a target="_blank" rel="noopener" href="https://highlightjs.org/static/demo/">官方 Demo </a>页面查看它各个语言在各个风格（Style）下的显示效果。</p>
<hr>
<h3 id="实现">实现</h3>
<h5 id="步骤一">步骤一</h5>
<p>前往 Highlight.js 的<a target="_blank" rel="noopener" href="https://highlightjs.org/download/">官方下载页面</a>，在 <strong>Custom package</strong> 的部分勾选你希望获得高亮支持的语言（想一步到位就全选），勾选完毕后点击 Download 按钮下载，得到 <code>highlight.zip</code> 压缩包；</p>
<h5 id="步骤二">步骤二</h5>
<p>解压刚刚的 <code>highlight.zip</code> 压缩包，得到 <code>highlight.pack.js</code> 文件和 <code>styles</code>文件夹（该文件夹中包含了各种<a target="_blank" rel="noopener" href="https://highlightjs.org/static/demo/">显示风格</a>的 CSS 文件）。接着，将 <code>highlight.pack.js</code> 文件移动到 <code>themes/hexo-theme-Claudia/source/js/</code> 目录下，而 <code>styles</code> 文件夹（包括里面的所有 CSS 文件）则移动到 <code>themes/hexo-theme-Claudia/source/style/themes</code> 目录下；</p>
<h5 id="步骤三">步骤三</h5>
<p>修改根目录下 <code>_config.yml</code> 文件中 highlight 部分的设置（主要目的是关闭它，其他设置只是顺便说明一下）：</p>
<p class="code-caption" data-lang="" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code>highlight:
  enable: false 关闭 hexo 自带的 highlight*
  line_number: false
  auto_detect: false
  tab_replace: &quot;&quot;
  wrap: false
hljs:
  enable: true #true to enable the plugin
  line_number: frontend # 在前面加行号 in frontend or backend (不推荐，有bug）
  trim_indent: backend # trim the indent of code block to prettify output. backend or front-end (recommend)
  copy_code: true # show copy code in caption.
  label:
    left: Code
    right: &quot;:&quot;
    copy: copy 这里赋制按钮没用
</code></pre>
<p>把 vs2015.css 粘贴到改 <code>themes/hexo-theme-Claudia/source/style/themes/highlight-theme-light.css</code> ，修改</p>
<p><code>themes/hexo-theme-Claudia/layout/post.pug</code>（通过调用指定的 CSS 文件选择相应的高亮风格，下面的例子里选择的风格是 <a target="_blank" rel="noopener" href="https://highlightjs.org/static/demo/">Vs 2015</a>）：</p>
<p class="code-caption" data-lang="pug" data-line_number="frontend" data-trim_indent="backend" data-label_position="outer" data-labels_left="Code" data-labels_right=":" data-labels_copy=""><span class="code-caption-label"></span><a class="code-caption-copy"></a></p>
<pre><code class="language-pug">link(rel='stylesheet', href= url_for('/style/themes/vs2015.min.css'))
</code></pre>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2021/11/02/%E5%9B%BE%E7%89%87%E9%81%AE%E7%BD%A9/" title="hover图片显示遮罩"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: hover图片显示遮罩</span></a><a class="button is-default" href="/2021/11/01/electron-vue/" title=""><span class="has-text-weight-semibold">Next: </span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="f-dAd/git@github.com:f-dAd/f-dAd.github.io.git" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article><article class="mt-6 comment-container" id="vcomments"></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/f-dAd"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml"><i class="iconfont icon-rss"></i></a><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> f-dAd 2021</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span>ssooo</span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>