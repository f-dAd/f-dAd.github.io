<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>f-dAd's blog</title><meta name="description" content="something for nothing"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">f-dAd's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>Archives · All</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/node"><i class="tag post-item-tag">node</i></a><a href="/tags/fs"><i class="tag post-item-tag">fs</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/11/02/node%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/">fs图片上传</a></h2><time class="has-text-grey" datetime="2021-11-02T02:49:32.000Z">2021-11-02</time><p class="is-flex-grow-2 mt-2">fs.unlink 一直显示路径不存在问题
问题描述：由于用户头像支持修改上传，所以需要把前一张图片删除掉，就要查询用户图片名并分割拼接成文件地址，一开始用的是 ‘public/images’+文件名拼接成的字符串，一直显示找不到路径，以为是以当前项目路径为根路径的，实际是从用户根路径直接一路定位
解决：使用path拼接路径，先取得当前绝对路径,再定位到目标文件夹下并拼接上文件名
path.join(__dirname,‘…/public/images’, filename)
关于图片从库中已经删除无法去重的问题
使用 fs.access检查文件是否存在
fs.access 接收一个 mode 参数可以判断一个文件是否存在、是否可读、是否可写，返回值为一个 err 参数。
path函数
path.join(..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/11/02/node%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/">Read more</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/css"><i class="tag post-item-tag">css</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/11/02/%E5%9B%BE%E7%89%87%E9%81%AE%E7%BD%A9/">hover图片显示遮罩</a></h2><time class="has-text-grey" datetime="2021-11-02T02:49:32.000Z">2021-11-02</time><p class="is-flex-grow-2 mt-2">参考链接：https://blog.csdn.net/Asuna_Yu/article/details/80259194
为图片及遮罩层添加样式
图片：relative
遮罩层：absolute
使两者样式重合。
鼠标不在图片上时，遮罩层不显示 .mask &amp;#123; opacity: 0; &amp;#125; 。
使用hover
改变透明度，使遮罩层显示。
</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/11/02/%E5%9B%BE%E7%89%87%E9%81%AE%E7%BD%A9/">Read more</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/hexo"><i class="tag post-item-tag">hexo</i></a><a href="/tags/github"><i class="tag post-item-tag">github</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/11/01/github%20hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">Github 加 hexo 搭建自己的博客</a></h2><time class="has-text-grey" datetime="2021-11-01T11:49:32.000Z">2021-11-01</time><p class="is-flex-grow-2 mt-2">安装
git：git 可以在我们的电脑上创建一个本地仓库，然后把我们的网页部署到 github 上的 github Pages 上。
node.js:安装 Hexo 的前提。
Hexo：可以把我们本地的 Markdown 文件，后缀.md 的文件，处理，渲染，然后变成静态网页，也就是我们的博客

npm config set registry https://registry.npm.taobao.org 设置国内的淘宝镜像，其他镜像也可以`
npm config get registry  检查换成功没

安装Hexo
npm install hexo-cli -g

安装hexo的一个相当于命令的东西
npm install hexo-deployer-git --savecode snippet

搭..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/11/01/github%20hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">Read more</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="images/lake.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2017/12/20/Typography%20and%20tags/"><img class="post-cover-img js-img-fadeIn" src="images/lake.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/typography"><i class="tag post-item-tag">typography</i></a><a href="/tags/hexo"><i class="tag post-item-tag">hexo</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2017/12/20/Typography%20and%20tags/">Typography and tags</a></h2><time class="has-text-grey" datetime="2017-12-20T05:51:07.000Z">2017-12-20</time><p class="is-flex-grow-2 mt-2">
Installation

This post uses hexo-renderer-markdown-it plugin as markdown processor, so please install it to achieve the effect.
(`installation`)
npm un hexo-renderer-marked --save
npm i hexo-renderer-markdown-it --save
npm i markdown-it-emoji --save
npm i markdown-it-mark --save
npm i markdown-it-deflist --save
npm i markdown-it-container --save

Configu..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2017/12/20/Typography%20and%20tags/">Read more</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://source.unsplash.com/random/400x400?building" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2013/12/26/images/"><img class="post-cover-img js-img-fadeIn" src="https://source.unsplash.com/random/400x400?building" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><h2 class="mt-4 mb-0 is-family-serif"><a href="/2013/12/26/images/">Images video</a></h2><time class="has-text-grey" datetime="2013-12-26T14:46:49.000Z">2013-12-26</time><p class="is-flex-grow-2 mt-2">title:  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam justo turpis, tincidunt ac convallis id.
date: 2013-12-24 23:31:06  长title
无title
tags:

This post doesn’t have a title. Make sure it’s accessible.
tags:
This post has a long title. Make sure the title displayed right.
This is a image test post1




This is a video test post.
Youtube
..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2013/12/26/images/">Read more</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><h2 class="mt-4 mb-0 is-family-serif"><a href="/2013/12/25/tag-plugins/">Tag Plugins</a></h2><time class="has-text-grey" datetime="2013-12-24T16:14:39.000Z">2013-12-25</time><p class="is-flex-grow-2 mt-2">This post is used for testing tag plugins. See docs for more info.
Block Quote
Normal blockquote

Praesent diam elit, interdum ut pulvinar placerat, imperdiet at magna.

Quote from a book
Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.
David LevithanWide Awake
Quote from Twitter
NEW: DevDocs now comes with ..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2013/12/25/tag-plugins/">Read more</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://source.unsplash.com/random/800x400?lake" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2013/12/24/elements/"><img class="post-cover-img js-img-fadeIn" src="https://source.unsplash.com/random/800x400?lake" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><h2 class="mt-4 mb-0 is-family-serif"><a href="/2013/12/24/elements/">Elements</a></h2><time class="has-text-grey" datetime="2013-12-24T15:29:08.000Z">2013-12-24</time><p class="is-flex-grow-2 mt-2">
The purpose of this post is to help you make sure all of HTML elements can display properly. If you use CSS reset, don’t forget to redefine the style by yourself.

![image-20211104162822342](/Users/bytedance/Library/Application Support/typora-user-images/image-20211104162822342.png)
![image-20211104162922598](/Users/bytedance/Library/Application Support/t..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2013/12/24/elements/">Read more</a></section></article><section class="paginator is-flex is-justify-content-flex-end is-flex-wrap-wrap mt-5"><a class="extend prev" rel="prev" href="/archives/"><i class="iconfont icon-prev has-text-grey"></i></a><a class="page-number" href="/archives/">1</a><span class="page-number current">2</span></section></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container archives-widget is-in-archive-page"><h3>文章</h3><section><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">3</span></li></ul></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/f-dAd"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml"><i class="iconfont icon-rss"></i></a><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> f-dAd 2021</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span>ssooo</span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>